# 简易商城系统需求文档

## 功能模块

### （一）用户注册与登录

* **注册** ：用户填写用户名、密码、确认密码进行注册。前端简单校验两次密码是否一致，然后将信息发送给后端。后端检查用户名是否唯一，将用户信息存入数据库，返回注册是否成功的结果。
* **登录** ：用户输入用户名和密码登录。前端将信息传给后端，后端验证用户名和密码是否匹配，若匹配成功，返回登录成功标识。

### （二）购物车

* **添加商品** ：用户在商品展示页面点击 “加入购物车” 按钮，前端将商品 ID 和数量发送给后端。后端根据商品 ID 获取商品信息，更新购物车数据（存储于数据库），返回更新后的购物车商品数量给前端显示。
* **购物车管理** ：在购物车页面，用户可修改商品数量或删除商品。修改数量时，前端发送商品 ID 和新数量给后端，后端更新数据库并返回结果。删除商品时，前端发送商品 ID 给后端，后端从数据库移除商品并返回结果。

### （三）订单管理

* **创建订单** ：用户在购物车点击 “结算” 后，进入订单确认页。用户填写收货地址（简化为输入文本框），前端将收货地址和购物车商品信息发送给后端。后端生成订单号，将订单信息存入数据库，返回订单创建成功标识。
* **订单列表** ：用户可在订单列表页查看历史订单。前端向后端发送请求，后端查询数据库返回订单数据。订单列表展示订单号、下单时间、状态、金额等基本信息。

### （四）商品展示

* **首页展示** ：首页展示部分商品信息（名称、价格、图片等）。前端向后端请求商品数据，后端从数据库获取并返回给前端展示。
* **商品详情** ：用户点击商品进入详情页。前端将商品 ID 发送给后端，后端返回商品详细信息（如描述、规格等）。

### （五）用户详情

用户登录后，可在个人中心查看和修改个人信息（用户名、密码等）。前端将修改后的信息发送给后端，后端更新数据库并返回结果。

### （六）搜索

用户在搜索框输入关键词，前端将关键词发送给后端。后端在数据库中查询匹配商品，返回结果给前端展示（简化为全匹配查询）。

### （七）筛选

用户可通过分类和价格区间筛选商品。前端将筛选条件发送给后端，后端查询数据库返回符合条件的商品数据。

## 三、前后端交互

### （一）前端

基于 Vue 3，主要功能如下：

* 创建组件对应各功能页面（如登录注册页、商品展示页等），通过 Axios 向后端发送请求获取或提交数据。
* 实现简单的表单验证（如注册时检查两次密码是否一致）。
* 根据后端返回数据更新页面展示（如购物车商品数量变化、订单列表更新）。

### （二）后端

基于 Spring Boot + MyBatis，主要功能如下：

* 搭建 RESTful API 接口，处理前端请求。
* 用 MyBatis 操作数据库，实现用户、商品、购物车、订单等数据的增删改查。
* 返回 JSON 格式数据给前端，反馈操作结果。

## 四、数据库设计

设计用户表（用户名、密码等字段）、商品表（商品信息相关字段）、购物车表（用户 ID、商品 ID、数量等字段）、订单表（订单号、用户 ID、商品信息、收货地址等字段）。

# 数据库表设计

## 用户表（user）


| 字段名   | 数据类型    | 约束条件   | 描述         |
| -------- | ----------- | ---------- | ------------ |
| user_id  | INT         | 主键、自增 | 用户唯一标识 |
| username | VARCHAR(50) | 非空、唯一 | 用户名       |
| password | VARCHAR(50) | 非空       | 密码         |
| phone    | VARCHAR(20) |            | 手机号码     |
| email    | VARCHAR(50) |            | 邮箱         |

## 商品表（product）


| 字段名      | 数据类型      | 约束条件   | 描述                       |
| ----------- | ------------- | ---------- | -------------------------- |
| product_id  | INT           | 主键、自增 | 商品唯一标识               |
| name        | VARCHAR(100)  | 非空       | 商品名称                   |
| price       | DECIMAL(10,2) | 非空       | 商品价格                   |
| stock       | INT           | 非空       | 库存数量                   |
| description | TEXT          |            | 商品描述                   |
| category_id | INT           | 外键       | 商品分类（关联商品分类表） |

## 商品分类表（product_category）


| 字段名        | 数据类型    | 约束条件   | 描述                     |
| ------------- | ----------- | ---------- | ------------------------ |
| category_id   | INT         | 主键、自增 | 分类唯一标识             |
| category_name | VARCHAR(50) | 非空       | 分类名称                 |
| parent_id     | INT         |            | 父分类ID（用于多级分类） |

## 购物车表（cart）


| 字段名     | 数据类型 | 约束条件   | 描述                 |
| ---------- | -------- | ---------- | -------------------- |
| cart_id    | INT      | 主键、自增 | 购物车唯一标识       |
| user_id    | INT      | 非空、外键 | 用户ID（关联用户表） |
| product_id | INT      | 非空、外键 | 商品ID（关联商品表） |
| quantity   | INT      | 非空       | 购买数量             |

## 订单表（order）


| 字段名       | 数据类型      | 约束条件   | 描述                           |
| ------------ | ------------- | ---------- | ------------------------------ |
| order_id     | INT           | 主键、自增 | 订单唯一标识                   |
| user_id      | INT           | 非空、外键 | 用户ID（关联用户表）           |
| order_date   | DATETIME      | 非空       | 下单日期                       |
| total_amount | DECIMAL(10,2) | 非空       | 订单总金额                     |
| status       | VARCHAR(20)   | 非空       | 订单状态（如待付款、待发货等） |
| address      | TEXT          |            | 收货地址                       |

## 订单商品表（order_product）


| 字段名           | 数据类型      | 约束条件   | 描述                     |
| ---------------- | ------------- | ---------- | ------------------------ |
| order_product_id | INT           | 主键、自增 | 订单商品唯一标识         |
| order_id         | INT           | 非空、外键 | 订单ID（关联订单表）     |
| product_id       | INT           | 非空、外键 | 商品ID（关联商品表）     |
| quantity         | INT           | 非空       | 商品数量                 |
| price            | DECIMAL(10,2) | 非空       | 商品价格（下单时的价格） |
