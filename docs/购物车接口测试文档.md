# è´­ç‰©è½¦æ¨¡å—æ¥å£æµ‹è¯•æ–‡æ¡£

## ğŸ“‹ æµ‹è¯•å‰å‡†å¤‡

### 1. ç¡®ä¿åç«¯æœåŠ¡å·²å¯åŠ¨
```bash
cd service/hwMallServicedemo
mvn spring-boot:run
```
åç«¯æœåŠ¡è¿è¡Œåœ¨ï¼š`http://localhost:8080`

### 2. ç¡®ä¿æ•°æ®åº“æœ‰æµ‹è¯•æ•°æ®
æ‰§è¡Œ `docs/å¿«é€Ÿæµ‹è¯•æ•°æ®.sql` æˆ– `docs/test_data.sql`

### 3. æµ‹è¯•å·¥å…·
- **curl**ï¼ˆå‘½ä»¤è¡Œå·¥å…·ï¼‰
- **Postman**ï¼ˆæ¨èï¼Œå›¾å½¢åŒ–ç•Œé¢ï¼‰
- **æµè§ˆå™¨**ï¼ˆç”¨äº GET è¯·æ±‚ï¼‰

---

## ğŸ”— æ¥å£åˆ—è¡¨

| æ¥å£ | æ–¹æ³• | URL | è¯´æ˜ |
|------|------|-----|------|
| æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦ | POST | `/api/cart/add` | æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦ |
| è·å–è´­ç‰©è½¦åˆ—è¡¨ | GET | `/api/cart/list?userId=1` | è·å–ç”¨æˆ·çš„è´­ç‰©è½¦åˆ—è¡¨ |
| æ›´æ–°å•†å“æ•°é‡ | PUT | `/api/cart/update` | æ›´æ–°è´­ç‰©è½¦ä¸­å•†å“çš„æ•°é‡ |
| åˆ é™¤å•†å“ | DELETE | `/api/cart/delete/{cartId}` | åˆ é™¤è´­ç‰©è½¦ä¸­çš„å•†å“ |
| æ¸…ç©ºè´­ç‰©è½¦ | DELETE | `/api/cart/clear?userId=1` | æ¸…ç©ºç”¨æˆ·çš„æ‰€æœ‰è´­ç‰©è½¦å•†å“ |
| è·å–è´­ç‰©è½¦æ•°é‡ | GET | `/api/cart/count?userId=1` | è·å–è´­ç‰©è½¦å•†å“æ€»æ•° |

---

## ğŸ“ è¯¦ç»†æµ‹è¯•ç”¨ä¾‹

### æµ‹è¯•ç”¨ä¾‹ 1ï¼šæ·»åŠ å•†å“åˆ°è´­ç‰©è½¦

#### ä½¿ç”¨ curl æµ‹è¯•

```bash
curl -X POST http://localhost:8080/api/cart/add \
  -H "Content-Type: application/json" \
  -d '{
    "userId": 1,
    "productId": 1,
    "quantity": 2
  }'
```

#### ä½¿ç”¨ Postman æµ‹è¯•

1. **Method**: `POST`
2. **URL**: `http://localhost:8080/api/cart/add`
3. **Headers**:
   - `Content-Type: application/json`
4. **Body** (raw JSON):
   ```json
   {
     "userId": 1,
     "productId": 1,
     "quantity": 2
   }
   ```

#### é¢„æœŸå“åº”ï¼ˆæˆåŠŸï¼‰

```json
{
  "code": 200,
  "message": "æ·»åŠ æˆåŠŸ",
  "data": {
    "cartCount": 2
  }
}
```

#### é¢„æœŸå“åº”ï¼ˆå¤±è´¥ - å•†å“ä¸å­˜åœ¨ï¼‰

```json
{
  "code": 500,
  "message": "æ·»åŠ è´­ç‰©è½¦å¤±è´¥: å•†å“ä¸å­˜åœ¨",
  "data": null
}
```

#### é¢„æœŸå“åº”ï¼ˆå¤±è´¥ - åº“å­˜ä¸è¶³ï¼‰

```json
{
  "code": 500,
  "message": "æ·»åŠ è´­ç‰©è½¦å¤±è´¥: åº“å­˜ä¸è¶³",
  "data": null
}
```

---

### æµ‹è¯•ç”¨ä¾‹ 2ï¼šè·å–è´­ç‰©è½¦åˆ—è¡¨

#### ä½¿ç”¨ curl æµ‹è¯•

```bash
curl -X GET "http://localhost:8080/api/cart/list?userId=1"
```

#### ä½¿ç”¨ Postman æµ‹è¯•

1. **Method**: `GET`
2. **URL**: `http://localhost:8080/api/cart/list?userId=1`
3. **Headers**: æ— éœ€ç‰¹æ®Šå¤´éƒ¨

#### é¢„æœŸå“åº”ï¼ˆæˆåŠŸ - æœ‰å•†å“ï¼‰

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "cartItems": [
      {
        "cartId": 1,
        "productId": 1,
        "productName": "æ— çº¿è“ç‰™è€³æœº",
        "price": 199.00,
        "quantity": 2,
        "stock": 100,
        "subtotal": 398.00
      }
    ],
    "totalAmount": 398.00
  }
}
```

#### é¢„æœŸå“åº”ï¼ˆæˆåŠŸ - è´­ç‰©è½¦ä¸ºç©ºï¼‰

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "cartItems": [],
    "totalAmount": 0.00
  }
}
```

---

### æµ‹è¯•ç”¨ä¾‹ 3ï¼šæ›´æ–°è´­ç‰©è½¦å•†å“æ•°é‡

#### ä½¿ç”¨ curl æµ‹è¯•

```bash
curl -X PUT http://localhost:8080/api/cart/update \
  -H "Content-Type: application/json" \
  -d '{
    "cartId": 1,
    "quantity": 5
  }'
```

#### ä½¿ç”¨ Postman æµ‹è¯•

1. **Method**: `PUT`
2. **URL**: `http://localhost:8080/api/cart/update`
3. **Headers**:
   - `Content-Type: application/json`
4. **Body** (raw JSON):
   ```json
   {
     "cartId": 1,
     "quantity": 5
   }
   ```

#### é¢„æœŸå“åº”ï¼ˆæˆåŠŸï¼‰

```json
{
  "code": 200,
  "message": "æ›´æ–°æˆåŠŸ",
  "data": null
}
```

#### é¢„æœŸå“åº”ï¼ˆå¤±è´¥ - åº“å­˜ä¸è¶³ï¼‰

```json
{
  "code": 500,
  "message": "æ›´æ–°è´­ç‰©è½¦å¤±è´¥: åº“å­˜ä¸è¶³ï¼Œå½“å‰åº“å­˜ï¼š100",
  "data": null
}
```

---

### æµ‹è¯•ç”¨ä¾‹ 4ï¼šåˆ é™¤è´­ç‰©è½¦å•†å“

#### ä½¿ç”¨ curl æµ‹è¯•

```bash
curl -X DELETE http://localhost:8080/api/cart/delete/1
```

#### ä½¿ç”¨ Postman æµ‹è¯•

1. **Method**: `DELETE`
2. **URL**: `http://localhost:8080/api/cart/delete/1`
   - æ³¨æ„ï¼š`1` æ˜¯ `cartId`ï¼Œéœ€è¦æ›¿æ¢ä¸ºå®é™…çš„è´­ç‰©è½¦ID

#### é¢„æœŸå“åº”ï¼ˆæˆåŠŸï¼‰

```json
{
  "code": 200,
  "message": "åˆ é™¤æˆåŠŸ",
  "data": null
}
```

---

### æµ‹è¯•ç”¨ä¾‹ 5ï¼šæ¸…ç©ºè´­ç‰©è½¦

#### ä½¿ç”¨ curl æµ‹è¯•

```bash
curl -X DELETE "http://localhost:8080/api/cart/clear?userId=1"
```

#### ä½¿ç”¨ Postman æµ‹è¯•

1. **Method**: `DELETE`
2. **URL**: `http://localhost:8080/api/cart/clear?userId=1`

#### é¢„æœŸå“åº”ï¼ˆæˆåŠŸï¼‰

```json
{
  "code": 200,
  "message": "æ¸…ç©ºæˆåŠŸ",
  "data": null
}
```

---

### æµ‹è¯•ç”¨ä¾‹ 6ï¼šè·å–è´­ç‰©è½¦å•†å“æ•°é‡

#### ä½¿ç”¨ curl æµ‹è¯•

```bash
curl -X GET "http://localhost:8080/api/cart/count?userId=1"
```

#### ä½¿ç”¨ Postman æµ‹è¯•

1. **Method**: `GET`
2. **URL**: `http://localhost:8080/api/cart/count?userId=1`

#### é¢„æœŸå“åº”ï¼ˆæˆåŠŸï¼‰

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "count": 5
  }
}
```

---

## ğŸ§ª å®Œæ•´æµ‹è¯•æµç¨‹

### æ­¥éª¤ 1ï¼šæ¸…ç©ºè´­ç‰©è½¦ï¼ˆç¡®ä¿ä»å¹²å‡€çŠ¶æ€å¼€å§‹ï¼‰

```bash
curl -X DELETE "http://localhost:8080/api/cart/clear?userId=1"
```

### æ­¥éª¤ 2ï¼šæ·»åŠ ç¬¬ä¸€ä¸ªå•†å“

```bash
curl -X POST http://localhost:8080/api/cart/add \
  -H "Content-Type: application/json" \
  -d '{"userId": 1, "productId": 1, "quantity": 2}'
```

### æ­¥éª¤ 3ï¼šæ·»åŠ ç¬¬äºŒä¸ªå•†å“

```bash
curl -X POST http://localhost:8080/api/cart/add \
  -H "Content-Type: application/json" \
  -d '{"userId": 1, "productId": 2, "quantity": 1}'
```

### æ­¥éª¤ 4ï¼šæŸ¥çœ‹è´­ç‰©è½¦åˆ—è¡¨

```bash
curl -X GET "http://localhost:8080/api/cart/list?userId=1"
```

### æ­¥éª¤ 5ï¼šè·å–è´­ç‰©è½¦æ•°é‡

```bash
curl -X GET "http://localhost:8080/api/cart/count?userId=1"
```

### æ­¥éª¤ 6ï¼šæ›´æ–°ç¬¬ä¸€ä¸ªå•†å“çš„æ•°é‡

```bash
# å…ˆè·å– cartIdï¼ˆä»æ­¥éª¤4çš„å“åº”ä¸­è·å–ï¼‰
curl -X PUT http://localhost:8080/api/cart/update \
  -H "Content-Type: application/json" \
  -d '{"cartId": 1, "quantity": 5}'
```

### æ­¥éª¤ 7ï¼šåˆ é™¤ä¸€ä¸ªå•†å“

```bash
curl -X DELETE http://localhost:8080/api/cart/delete/1
```

### æ­¥éª¤ 8ï¼šå†æ¬¡æŸ¥çœ‹è´­ç‰©è½¦åˆ—è¡¨

```bash
curl -X GET "http://localhost:8080/api/cart/list?userId=1"
```

---

## âš ï¸ è¾¹ç•Œæµ‹è¯•

### æµ‹è¯• 1ï¼šæ·»åŠ ä¸å­˜åœ¨çš„å•†å“

```bash
curl -X POST http://localhost:8080/api/cart/add \
  -H "Content-Type: application/json" \
  -d '{"userId": 1, "productId": 999, "quantity": 1}'
```

**é¢„æœŸ**ï¼šè¿”å›é”™è¯¯ "å•†å“ä¸å­˜åœ¨"

### æµ‹è¯• 2ï¼šæ·»åŠ æ•°é‡è¶…è¿‡åº“å­˜

```bash
curl -X POST http://localhost:8080/api/cart/add \
  -H "Content-Type: application/json" \
  -d '{"userId": 1, "productId": 1, "quantity": 1000}'
```

**é¢„æœŸ**ï¼šè¿”å›é”™è¯¯ "åº“å­˜ä¸è¶³"

### æµ‹è¯• 3ï¼šæ›´æ–°æ•°é‡ä¸º0æˆ–è´Ÿæ•°

```bash
curl -X PUT http://localhost:8080/api/cart/update \
  -H "Content-Type: application/json" \
  -d '{"cartId": 1, "quantity": 0}'
```

**é¢„æœŸ**ï¼šè¿”å›é”™è¯¯ "æ•°é‡å¿…é¡»å¤§äº0"

### æµ‹è¯• 4ï¼šé‡å¤æ·»åŠ ç›¸åŒå•†å“

```bash
# ç¬¬ä¸€æ¬¡æ·»åŠ 
curl -X POST http://localhost:8080/api/cart/add \
  -H "Content-Type: application/json" \
  -d '{"userId": 1, "productId": 1, "quantity": 2}'

# ç¬¬äºŒæ¬¡æ·»åŠ ç›¸åŒå•†å“
curl -X POST http://localhost:8080/api/cart/add \
  -H "Content-Type: application/json" \
  -d '{"userId": 1, "productId": 1, "quantity": 3}'
```

**é¢„æœŸ**ï¼šæ•°é‡åº”è¯¥ç´¯åŠ ä¸º 5ï¼ˆ2 + 3ï¼‰

---

## ğŸ“Š æµ‹è¯•æ£€æŸ¥æ¸…å•

- [ ] æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦ï¼ˆæ­£å¸¸æƒ…å†µï¼‰
- [ ] æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦ï¼ˆå•†å“ä¸å­˜åœ¨ï¼‰
- [ ] æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦ï¼ˆåº“å­˜ä¸è¶³ï¼‰
- [ ] è·å–è´­ç‰©è½¦åˆ—è¡¨ï¼ˆæœ‰å•†å“ï¼‰
- [ ] è·å–è´­ç‰©è½¦åˆ—è¡¨ï¼ˆç©ºè´­ç‰©è½¦ï¼‰
- [ ] æ›´æ–°å•†å“æ•°é‡ï¼ˆæ­£å¸¸æƒ…å†µï¼‰
- [ ] æ›´æ–°å•†å“æ•°é‡ï¼ˆè¶…è¿‡åº“å­˜ï¼‰
- [ ] æ›´æ–°å•†å“æ•°é‡ï¼ˆæ•°é‡ä¸º0æˆ–è´Ÿæ•°ï¼‰
- [ ] åˆ é™¤è´­ç‰©è½¦å•†å“
- [ ] æ¸…ç©ºè´­ç‰©è½¦
- [ ] è·å–è´­ç‰©è½¦æ•°é‡
- [ ] é‡å¤æ·»åŠ ç›¸åŒå•†å“ï¼ˆæ•°é‡ç´¯åŠ ï¼‰

---

## ğŸ” è°ƒè¯•æŠ€å·§

### 1. æŸ¥çœ‹åç«¯æ—¥å¿—

åç«¯å¯åŠ¨åï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ä¼šåœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿—ï¼ŒåŒ…æ‹¬ï¼š
- SQL æŸ¥è¯¢è¯­å¥
- è¯·æ±‚å‚æ•°
- å“åº”ç»“æœ

### 2. ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·

å¦‚æœä½¿ç”¨ Postman æˆ–å‰ç«¯é¡µé¢æµ‹è¯•ï¼Œå¯ä»¥ï¼š
- æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
- æŸ¥çœ‹ Network æ ‡ç­¾
- æ£€æŸ¥è¯·æ±‚å’Œå“åº”

### 3. ç›´æ¥æŸ¥è¯¢æ•°æ®åº“

```sql
-- æŸ¥çœ‹è´­ç‰©è½¦æ•°æ®
SELECT * FROM cart WHERE user_id = 1;

-- æŸ¥çœ‹å•†å“æ•°æ®
SELECT product_id, name, price, stock FROM product;
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [è´­ç‰©è½¦æ¨¡å—å¼€å‘æŒ‡å—](./è´­ç‰©è½¦æ¨¡å—å¼€å‘æŒ‡å—.md)
- [è´­ç‰©è½¦æ¨¡å—ä½¿ç”¨è¯´æ˜](./è´­ç‰©è½¦æ¨¡å—ä½¿ç”¨è¯´æ˜.md)
- [æ•°æ®å‡†å¤‡æŒ‡å—](./æ•°æ®å‡†å¤‡æŒ‡å—.md)


